<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
//     console.log('start');
//     let obj = {
//         id: 1,
//          //foo: {
//          //    hash: '#451781tiwpslflsdfh',
//          //}
//     } // excel data
// try{
//         console.log(obj.foo.hash);
// } catch (poipoip){
//         console.log(poipoip)
// }
//     console.log('end');
//________________________________________
    console.log('start');
    let obj = {
        id: 1,
        foo: {
            hash: '#451781tiwpslflsdfh',
        }
    } // excel data
    try {
        console.log(obj.foo.hash);
    } catch (e) {
        console.log(e);
    } finally {
        console.log('done');
    }

    console.log('end');

function divide(a, b) {
    if (b === 0) {
        throw new Error('you cannot divide by 0!');
    }
    return a / b;
}

try {
    divide(10, 0);
} catch (e) {
    console.log(e);
}

function iterator(users) {
    for (const user of users) {

        try {
            console.log(user.wife.name);
        } catch (e) {
            console.log(`ти використовуєщ не відповідний формат об\'єкуту в тебе не вистачає поля `);
        }
    }
}

let users = [
    {name: 'vasya', age: 31, status: false},
    {name: 'petya', age: 30, status: true},
    {name: 'kolya', age: 29, status: true},
    {name: 'olya', age: 28, status: false},
    {name: 'max', age: 30, status: true},
    {name: 'anya', age: 31, status: false},
    {name: 'oleg', age: 28, status: false},
    {name: 'andrey', age: 29, status: true},
    {name: 'masha', age: 30, status: true},
    {name: 'olya', age: 31, status: false},
    {name: 'max', age: 31, status: true}
]

iterator(users);

let obj1 = {
    id: '#76347ksdf',
    name: 'kokos',
}

// if (obj.wife) {
//     console.log(obj.wife.name);
// }
// Optional Chain Operator
console.log(obj1.wife?.name?.lastname);


let name = 'kokos';
let age = 31;

let user = {
    name, // name : name
    age // age : age
}
console.log(user);

let user20 = {
    name,
    age,
}
console.log(user20);

function userFabric(id, name, age, greeting) {
    return {
        id,
        name,
        age,
        greeting,
        foo() {
            console.log('foobar function');
        }
    };
}

let user10 = userFabric(1, 'kokos', 31);
    console.log(user10);

let user22 = userFabric(2, 'abricos', 32);
console.log(user22);

let user11 = userFabric(1, 'kokos', 31, () => {
    console.log('hello');
});
console.log(user11);
user11.greeting();
user11.foo();

function extractor({name: lastname, id}) {
    // let {id, name} = obj;
    console.log(id, lastname);
}

extractor({id: 1, name: 'kokos', age: 31});
extractor({id: 2, name: 'abrikos', age: 31, status: true});

let usersS = [
    {name: 'vasya', age: 31, status: false},
    {name: 'petya', age: 30, status: true},
    {name: 'kolya', age: 29, status: true},
    {name: 'olya', age: 28, status: false},
    {name: 'max', age: 30, status: true},
    {name: 'anya', age: 31, status: false},
    {name: 'oleg', age: 28, status: false},
    {name: 'andrey', age: 29, status: true},
    {name: 'masha', age: 30, status: true},
    {name: 'olya', age: 31, status: false},
    {name: 'max', age: 31, status: true}
];

let [user1, user2, user3, , user4] = usersS;

let user0 = {
    id: 1,
    name: 'vasya',
    age: 31
}

let user00 = {
    id: user0.id,
    name: user0.name,
    age: user0.age
}
console.log(user0===user00);

let user000 = {...user0};
console.log(user0===user000);


let arr = [...users];
console.log(arr);
console.log(arr === users);

let userX = {
    id: 1,
    name: 'vasya',
    age: 31,
    wife: {name: 'anna'}
}
let uCopy = {...userX};
console.log(uCopy);
console.log(uCopy === userX);
console.log(uCopy.wife === userX.wife);


let map = users.map((user, index) => {
    return {...user, id: index + 1};
});
console.log(map);
console.log(users);


let value={id:100500};
console.log(value);
let s=JSON.stringify(value);
console.log(s);

let naturalObj=JSON.parse(s);
console.log(naturalObj);

let mappedUsers = users.map((user, index) => {
    let stringify = JSON.stringify(user);
    let userObj = JSON.parse(stringify);
    userObj.id = index + 1;
    return userObj;
});

console.log(mappedUsers);
console.log(mappedUsers === users);
console.log(users);

let objct = {
        id: 100500,
        emb: {hash: '5176712ryrt'},
        foo: function () {

        },
    };


// let clone = structuredClone(objct);
// console.log(clone);
// console.log(clone === objct);
// console.log(clone.emb === objct.emb);



users.map(({name, age}, index) => name, age);

// let obj = '{"id": 100500, "emb": {"hash": "5176712ryrt"}}';

let coursesAndDurationArray = [
        {title: 'JavaScript Complex', monthDuration: 5},
        {title: 'Java Complex', monthDuration: 6},
        {title: 'Python Complex', monthDuration: 6},
        {title: 'QA Complex', monthDuration: 4},
        {title: 'FullStack', monthDuration: 7},
        {title: 'Frontend', monthDuration: 4}
    ];

let checks = [110, 220, 133, 244, 155, 266];
// [[<200],[>200]]


let result = 0;
for (const check of checks) {
    result += check;
}

console.log(result);

 let reduce1 = checks.reduce((result, check) => {
     result = result + check;
     return result;
 }, 0);
 console.log(reduce1);

let reduce2 = checks.reduce((result, check) => {
    if (check < 200) {
        result[0].push(check);
    }
    if (check > 200) {
        result[1].push(check);
    }
    return result;
}, [[],[]])

console.log(reduce2);

// {a:[<200], b: [>200]}

let reduce3 = checks.reduce((result, check) => {

    if (check < 200) {
        result.a.push(check);
    }

    if (check > 200) {
        result.b.push(check);
    }

    return result;

}, {a: [], b: []});
console.log(reduce3);


let reduce = checks.reduce((result, check) => {

    if (check < 200) {
        if (result.a && Array.isArray(result.a)) {
            result.a.push(check);
        } else {
            result.a = [];
            result.a.push(check);
        }
    }

    if (check > 200) {
        if (result.b && Array.isArray(result.b)) {
            result.b.push(check);
        } else {
            result.b = [];
            result.b.push(check);
        }
    }
    return result;
}, {});


console.log(reduce);


</script>

</body>
</html>